
event GetUserIDByName {
    request {
        string(16) name;
    }
    respond {
        enum(
            NoErrors, NotFound,
            IncorrectNameFormat, Unknown
            ) response;
        uint64 id;
    }
}

event GetUserDBRecord {
    request {
        uint64 id;
    }
    respond {
        enum(
            NoErrors, IDDoesNotExist,
            Unknown) response;
        bool online;
        string(16) name;
        string(20) creation_date;
    }
}

event RegisterUser {
    request {
        string(16) name;
        string(16) password;
    }
    respond {
        enum(
            NoErrors, IncorrectNameFormat,
            IncorrectPasswordFormat, NameAlreadyUsed,
            Unknown) response;
        uint64 id;
    }
}

event LogInUser {
    request {
        uint64 id;
        string(16) password;
    }
    respond {
        enum(
            NoErrors, AlreadyLoggedIn,
            LoggedInByOtherClient,
            IncorrectPasswordFormat, WrongPassword,
            IDDoesNotExist,
            Unknown) response;
    }
}

event LogOutOfUser {
    request {}
    respond {
        enum(NoErrors, NotLoggedIn, Unknown) response;
    }
}

event CreateRoom {
    request {
        string(16) name;
        string(16) password;
    }
    respond {
        enum(
            NoErrors, NotLoggedIn, NameAlreadyExists,
            IncorrectNameFormat, IncorrectPasswordFormat,
            Unknown) response;
        uint64 id;
    }
}

event GetRoomIDByName {
    request {
        string(16) name;
    }
    respond {
        enum(
            NoErrors, NotFound,
            IncorrectNameFormat, Unknown
            ) response;
        uint64 id;
    }
}

event GetRoomDBRecord {
    request {
        uint64 id;
    }
    respond {
        enum(
            NoErrors, IDDoesNotExist,
            Unknown) response;
        uint64 creator_id;
        string(16) name;
        string(20) creation_date;
        uint32 users_amount;
    }
}

event JoinRoom {
    request {
        uint64 id;
        string(16) password;
    }
    respond {
        enum(
            NoErrors, NotLoggedIn, AlreadyInThisRoom,
            IncorrectPasswordFormat, WrongPassword,
            IDDoesNotExist, Unknown) response;
    }
}

event LeaveRoom {
    request {
        uint64 id;
    }
    respond {
        enum(
            LeftRoom, NotInThisRoom, Unknown
            ) response;
    }
}
